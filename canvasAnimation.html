<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Animation</title>
</head>
<body>
    
    <canvas id='canvas'></canvas>
    <p id='timeout'></p>
    <script>
        let canvas = document.getElementById('canvas')
        let ctx = canvas.getContext('2d')

        let position = 0
        let intervalId = setInterval(function() {
            ctx.clearRect(0, 0, 200, 200)
            ctx.fillRect(position, 0, 20, 20)

            position++
            if (position > 200) position = 0 
        }, 20)

        setTimeout(function() {
            clearInterval(intervalId)
            let timeout = document.getElementById('timeout')
            timeout.innerHTML = 'Timeout!!!'
        }, 1000 * 3)

    </script>
</body>
</html>